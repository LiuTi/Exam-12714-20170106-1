<!DOCTYPE html>
<html>
  <head>
    <title>新增Film</title>
	
     <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
  </head>
  
  <body>
    <div class="contain">
    	<div style="margin-top: 20px">
    	<table class="table table-bordered " style="margin-top:10px">
    	 <caption style="text-align:center;font-weight: 50px">新增Film</caption>
  		<tr>
  		<td>title</td><td><input type="text" id="title" name="title" required="required"></td>
  		</tr>
  		<tr>
  		<td>description</td><td><input type="text" id="description" name="description"></td>
  		</tr>
  		<tr>
  		<td>language</td><td><input type="text" name="language" id="language" required="required"/></td>
  		</tr>
  		</table>
  		<div class="control-group">
						<div class="controls" style="float: right;">
  						<button type="button" onclick="history.back()" class="btn btn-info">返回列表</button>
						<button class="btn" type="submit" id="add">确认</button>
					</div>
				</div>
  		</div>
    </div>
  </body>
  <script>
  	$('document').ready(function () {
            $('#add').click(function() {
            	addFilm({
                  title: $('#title').val(),
                  description:$('#description').val(),
                  language_id:$('#language').val()
            });
        });
      });
        
        function addFilm(addInfo) {
            var defaultArg = {
                title: "",
                description: "",
                language_id:1
            };
            addInfo = $.extend({}, defaultArg, addInfo);
            $.ajax({
                url: "/Exam-12714-20170106-1/film/add",
                type: "GET",
                dataType: "json",
                data: addInfo,
                success: function (data) {
                	alert("新增成功");
                  },
                 error:function(data){alert("添加失败，语言输入为1-6，请重新添加");}
            });
        }
        
  </script>
   
</html>
